<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Optimal Binning Using the ChiMerge Algorithm (CM) • OptimalBinningWoE</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Optimal Binning Using the ChiMerge Algorithm (CM)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">OptimalBinningWoE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.5.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cm_paper.html">Optimal Binning Using the ChiMerge Algorithm (CM)</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Optimal Binning Using the ChiMerge Algorithm (CM)</h1>
            
      

      <div class="d-none name"><code>cm_paper.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="abstract">Abstract<a class="anchor" aria-label="anchor" href="#abstract"></a>
</h2>
<p>Data discretization is a fundamental preprocessing step in data
mining and machine learning, particularly when dealing with continuous
numerical attributes. The ChiMerge algorithm offers an optimal binning
method by merging adjacent bins based on the Chi-square test statistic,
effectively combining values that are statistically similar in terms of
the target variable distribution. This paper provides a rigorous
mathematical exposition of the ChiMerge algorithm, detailing its
methodology and applications in categorical and numerical data
discretization. Comparative analyses with other binning methods are also
discussed to highlight the advantages and limitations of the ChiMerge
approach.</p>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In statistical analysis and machine learning, data preprocessing is a
crucial step that significantly influences the performance of predictive
models. One common preprocessing technique is <strong>data
discretization</strong>, which transforms continuous numerical
attributes into discrete intervals or categories. Discretization
simplifies data models, reduces computational complexity, and often
enhances the interpretability of the results.</p>
<p>The <strong>ChiMerge algorithm</strong>, introduced by Kerber
(1992)<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;1^&lt;/p&gt;"><sup>1</sup></a>,
is a supervised, bottom-up discretization method that utilizes the
Chi-square statistic to merge adjacent bins. By evaluating the
similarity of adjacent intervals concerning the target variable
distribution, ChiMerge effectively identifies optimal binning schemes
that preserve essential class information.</p>
<p>This paper aims to provide a comprehensive and rigorous mathematical
treatment of the ChiMerge algorithm, elucidating its underlying
statistical principles and practical implementation. We also compare
ChiMerge with other binning methods to underscore its efficacy and
applicability in various data discretization scenarios.</p>
</div>
<div class="section level2">
<h2 id="mathematical-background">Mathematical Background<a class="anchor" aria-label="anchor" href="#mathematical-background"></a>
</h2>
<div class="section level3">
<h3 id="data-discretization-and-binning">Data Discretization and Binning<a class="anchor" aria-label="anchor" href="#data-discretization-and-binning"></a>
</h3>
<p>Data discretization involves partitioning the range of a continuous
attribute into a finite set of intervals, assigning a unique categorical
label to each interval. Formally, let
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>
be a continuous random variable with domain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mi>X</mi></msub><mo>⊆</mo><mi>ℝ</mi></mrow><annotation encoding="application/x-tex">D_X \subseteq \mathbb{R}</annotation></semantics></math>.
Discretization seeks a mapping
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><msub><mi>D</mi><mi>X</mi></msub><mo>→</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>C</mi><mn>1</mn></msub><mo>,</mo><msub><mi>C</mi><mn>2</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>C</mi><mi>k</mi></msub><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">f: D_X \rightarrow \{ C_1, C_2, \dots, C_k \}</annotation></semantics></math>,
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mi>i</mi></msub><annotation encoding="application/x-tex">C_i</annotation></semantics></math>
are discrete categories or bins.</p>
</div>
<div class="section level3">
<h3 id="the-chi-square-test-statistic">The Chi-Square Test Statistic<a class="anchor" aria-label="anchor" href="#the-chi-square-test-statistic"></a>
</h3>
<p>The Chi-square
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>χ</mi><mn>2</mn></msup><annotation encoding="application/x-tex">\chi^2</annotation></semantics></math>)
test is a statistical method used to assess the independence of two
categorical variables. The test statistic is defined as:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>χ</mi><mn>2</mn></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>r</mi></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>c</mi></munderover><mfrac><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>O</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>−</mo><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mfrac><mo>,</mo></mrow><annotation encoding="application/x-tex">
\chi^2 = \sum_{i=1}^r \sum_{j=1}^c \frac{(O_{ij} - E_{ij})^2}{E_{ij}},
</annotation></semantics></math></p>
<p>where:</p>
<ul>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>O</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">O_{ij}</annotation></semantics></math>
is the observed frequency in cell
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(i, j)</annotation></semantics></math>,</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">E_{ij}</annotation></semantics></math>
is the expected frequency under the null hypothesis of
independence,</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>r</mi><annotation encoding="application/x-tex">r</annotation></semantics></math>
is the number of rows (categories of one variable),</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>c</mi><annotation encoding="application/x-tex">c</annotation></semantics></math>
is the number of columns (categories of the other variable).</li>
</ul>
<p>The expected frequency
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">E_{ij}</annotation></semantics></math>
is calculated as:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><msub><mi>R</mi><mi>i</mi></msub><msub><mi>C</mi><mi>j</mi></msub></mrow><mi>N</mi></mfrac><mo>,</mo></mrow><annotation encoding="application/x-tex">
E_{ij} = \frac{R_i C_j}{N},
</annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>i</mi></msub><annotation encoding="application/x-tex">R_i</annotation></semantics></math>
is the total observed frequency for row
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mi>j</mi></msub><annotation encoding="application/x-tex">C_j</annotation></semantics></math>
is the total observed frequency for column
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>j</mi><annotation encoding="application/x-tex">j</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>
is the total number of observations.</p>
</div>
</div>
<div class="section level2">
<h2 id="the-chimerge-algorithm">The ChiMerge Algorithm<a class="anchor" aria-label="anchor" href="#the-chimerge-algorithm"></a>
</h2>
<div class="section level3">
<h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p>ChiMerge is a bottom-up merging algorithm that begins with the finest
possible partitioning, where each distinct value of the attribute forms
its own interval. Adjacent intervals are then successively merged based
on the Chi-square statistic until a stopping criterion is met.</p>
</div>
<div class="section level3">
<h3 id="algorithm-steps">Algorithm Steps<a class="anchor" aria-label="anchor" href="#algorithm-steps"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Initialization</strong>: Sort the continuous attribute
values in ascending order. Each unique value forms an initial bin.</li>
<li>
<strong>Compute Chi-square Statistic</strong>: For each pair of
adjacent bins, compute the Chi-square statistic based on the
distribution of the target variable (class labels).</li>
<li>
<strong>Merge Bins</strong>: Identify the pair of adjacent bins with
the minimum Chi-square value. If this value is below a predefined
threshold
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>χ</mi><mtext mathvariant="normal">threshold</mtext><mn>2</mn></msubsup><annotation encoding="application/x-tex">\chi^2_{\text{threshold}}</annotation></semantics></math>),
merge the bins.</li>
<li>
<strong>Update</strong>: Recompute the Chi-square statistics for the
new set of adjacent bins.</li>
<li>
<strong>Stopping Criterion</strong>: Repeat steps 3 and 4 until all
Chi-square values exceed
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>χ</mi><mtext mathvariant="normal">threshold</mtext><mn>2</mn></msubsup><annotation encoding="application/x-tex">\chi^2_{\text{threshold}}</annotation></semantics></math>
or the desired number of bins is reached.</li>
</ol>
</div>
<div class="section level3">
<h3 id="mathematical-formulation">Mathematical Formulation<a class="anchor" aria-label="anchor" href="#mathematical-formulation"></a>
</h3>
<p>Let
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>b</mi><mn>1</mn></msub><mo>,</mo><msub><mi>b</mi><mn>2</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>b</mi><mi>n</mi></msub><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">B = \{ b_1, b_2, \dots, b_n \}</annotation></semantics></math>
be the set of initial bins, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
be the target categorical variable with classes
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>y</mi><mi>m</mi></msub><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\{ y_1, y_2, \dots, y_m \}</annotation></semantics></math>.
The observed frequency table for two adjacent bins
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>b</mi><mi>i</mi></msub><annotation encoding="application/x-tex">b_i</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><annotation encoding="application/x-tex">b_{i+1}</annotation></semantics></math>
is:</p>
<table class="table">
<colgroup>
<col width="17%">
<col width="17%">
<col width="17%">
<col width="17%">
<col width="17%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th></th>
<th><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mn>1</mn></msub><annotation encoding="application/x-tex">y_1</annotation></semantics></math></th>
<th><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mn>2</mn></msub><annotation encoding="application/x-tex">y_2</annotation></semantics></math></th>
<th><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>…</mi><annotation encoding="application/x-tex">\dots</annotation></semantics></math></th>
<th><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mi>m</mi></msub><annotation encoding="application/x-tex">y_m</annotation></semantics></math></th>
<th>Total</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>b</mi><mi>i</mi></msub><annotation encoding="application/x-tex">b_i</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>O</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><annotation encoding="application/x-tex">O_{i1}</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>O</mi><mrow><mi>i</mi><mn>2</mn></mrow></msub><annotation encoding="application/x-tex">O_{i2}</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>…</mi><annotation encoding="application/x-tex">\dots</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>O</mi><mrow><mi>i</mi><mi>m</mi></mrow></msub><annotation encoding="application/x-tex">O_{im}</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>i</mi></msub><annotation encoding="application/x-tex">R_i</annotation></semantics></math></td>
</tr>
<tr class="even">
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><annotation encoding="application/x-tex">b_{i+1}</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>O</mi><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mn>1</mn></mrow></msub><annotation encoding="application/x-tex">O_{(i+1)1}</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>O</mi><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></mrow></msub><annotation encoding="application/x-tex">O_{(i+1)2}</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>…</mi><annotation encoding="application/x-tex">\dots</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>O</mi><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mi>m</mi></mrow></msub><annotation encoding="application/x-tex">O_{(i+1)m}</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><annotation encoding="application/x-tex">R_{i+1}</annotation></semantics></math></td>
</tr>
<tr class="odd">
<td><strong>Total</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mn>1</mn></msub><annotation encoding="application/x-tex">C_1</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mn>2</mn></msub><annotation encoding="application/x-tex">C_2</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>…</mi><annotation encoding="application/x-tex">\dots</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mi>m</mi></msub><annotation encoding="application/x-tex">C_m</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<p>The Chi-square statistic for bins
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>b</mi><mi>i</mi></msub><annotation encoding="application/x-tex">b_i</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><annotation encoding="application/x-tex">b_{i+1}</annotation></semantics></math>
is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>χ</mi><mrow><mi>i</mi><mo>,</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></msubsup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mfrac><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>O</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>−</mo><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mfrac><mo>+</mo><mfrac><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>O</mi><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mi>j</mi></mrow></msub><mo>−</mo><msub><mi>E</mi><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mi>j</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><msub><mi>E</mi><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mi>j</mi></mrow></msub></mfrac><mo>,</mo></mrow><annotation encoding="application/x-tex">
\chi^2_{i,i+1} = \sum_{j=1}^m \frac{(O_{ij} - E_{ij})^2}{E_{ij}} + \frac{(O_{(i+1)j} - E_{(i+1)j})^2}{E_{(i+1)j}},
</annotation></semantics></math></p>
<p>where:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><msub><mi>R</mi><mi>i</mi></msub><msub><mi>C</mi><mi>j</mi></msub></mrow><mi>N</mi></mfrac><mo>,</mo><mspace width="1.0em"></mspace><msub><mi>E</mi><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><msub><mi>R</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><msub><mi>C</mi><mi>j</mi></msub></mrow><mi>N</mi></mfrac><mi>.</mi></mrow><annotation encoding="application/x-tex">
E_{ij} = \frac{R_i C_j}{N}, \quad E_{(i+1)j} = \frac{R_{i+1} C_j}{N}.
</annotation></semantics></math></p>
</div>
<div class="section level3">
<h3 id="determining-the-threshold">Determining the Threshold<a class="anchor" aria-label="anchor" href="#determining-the-threshold"></a>
</h3>
<p>The Chi-square threshold
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>χ</mi><mtext mathvariant="normal">threshold</mtext><mn>2</mn></msubsup><annotation encoding="application/x-tex">\chi^2_{\text{threshold}}</annotation></semantics></math>
is determined based on the desired significance level
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>α</mi><annotation encoding="application/x-tex">\alpha</annotation></semantics></math>
and degrees of freedom
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">df</annotation></semantics></math>.
For two bins and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>
classes,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>f</mi><mo>=</mo><mi>m</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">df = m - 1</annotation></semantics></math>.
The threshold is obtained from the Chi-square distribution table:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>χ</mi><mtext mathvariant="normal">threshold</mtext><mn>2</mn></msubsup><mo>=</mo><msubsup><mi>χ</mi><mrow><mn>1</mn><mo>−</mo><mi>α</mi><mo>,</mo><mi>d</mi><mi>f</mi></mrow><mn>2</mn></msubsup><mi>.</mi></mrow><annotation encoding="application/x-tex">
\chi^2_{\text{threshold}} = \chi^2_{1 - \alpha, df}.
</annotation></semantics></math></p>
</div>
</div>
<div class="section level2">
<h2 id="implementation-details">Implementation Details<a class="anchor" aria-label="anchor" href="#implementation-details"></a>
</h2>
<div class="section level3">
<h3 id="pseudocode">Pseudocode<a class="anchor" aria-label="anchor" href="#pseudocode"></a>
</h3>
<pre class="plaintext"><code>Input: Continuous attribute X, target variable Y, significance level α
Output: Discretized bins for attribute X

1. Initialize bins: Each unique value of X forms a bin.
2. While true:
   a. For each pair of adjacent bins:
       i. Compute the Chi-square statistic χ².
   b. Find the pair of bins with the minimum χ² value, χ²_min.
   c. If χ²_min &lt; χ²_threshold:
       i. Merge the bins corresponding to χ²_min.
       ii. Update the list of bins.
   d. Else:
       i. Break the loop.
3. Return the final set of bins.</code></pre>
</div>
<div class="section level3">
<h3 id="complexity-analysis">Complexity Analysis<a class="anchor" aria-label="anchor" href="#complexity-analysis"></a>
</h3>
<ul>
<li>
<strong>Initialization</strong>:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>n</mi><mo>log</mo><mi>n</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">O(n \log n)</annotation></semantics></math>
for sorting
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>
data points.</li>
<li>
<strong>Chi-square Computation</strong>:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>k</mi><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">O(k m)</annotation></semantics></math>
per iteration, where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math>
is the number of bins and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>
is the number of classes.</li>
<li>
<strong>Merging</strong>: Up to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n - 1</annotation></semantics></math>
merges, leading to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>n</mi><mn>2</mn></msup><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">O(n^2 m)</annotation></semantics></math>
in the worst case.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="applications-and-experiments">Applications and Experiments<a class="anchor" aria-label="anchor" href="#applications-and-experiments"></a>
</h2>
<div class="section level3">
<h3 id="application-in-data-preprocessing">Application in Data Preprocessing<a class="anchor" aria-label="anchor" href="#application-in-data-preprocessing"></a>
</h3>
<p>ChiMerge is particularly effective in:</p>
<ul>
<li>Reducing the dimensionality of continuous attributes.</li>
<li>Handling attributes with a large number of distinct values.</li>
<li>Preserving class distribution information during
discretization.</li>
</ul>
</div>
<div class="section level3">
<h3 id="experimental-comparison">Experimental Comparison<a class="anchor" aria-label="anchor" href="#experimental-comparison"></a>
</h3>
<p>We compare ChiMerge with other binning methods such as:</p>
<ul>
<li>
<strong>Equal-Width Binning</strong>: Divides the range of the
attribute into intervals of equal size.</li>
<li>
<strong>Equal-Frequency Binning</strong>: Divides the data such that
each bin contains approximately the same number of instances.</li>
<li>
<strong>Entropy-Based Binning</strong><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;2^&lt;/p&gt;"><sup>2</sup></a>: Uses information gain
to determine optimal splits.</li>
</ul>
<div class="section level4">
<h4 id="dataset-example">Dataset Example<a class="anchor" aria-label="anchor" href="#dataset-example"></a>
</h4>
<p>Consider the Iris dataset<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;3^&lt;/p&gt;"><sup>3</sup></a> with continuous attributes and a
categorical target variable representing species. Applying ChiMerge
results in bins that align closely with species boundaries, whereas
equal-width and equal-frequency binning may not capture these
distinctions.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="results-and-discussion">Results and Discussion<a class="anchor" aria-label="anchor" href="#results-and-discussion"></a>
</h2>
<p>The ChiMerge algorithm demonstrates superior performance in
preserving class purity within bins compared to unsupervised methods. By
utilizing the Chi-square statistic, ChiMerge adaptively determines the
optimal number of bins and their boundaries based on the target variable
distribution.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>
<strong>Data-Driven</strong>: Adjusts to the underlying data
distribution.</li>
<li>
<strong>Supervised</strong>: Incorporates class information for
better predictive modeling.</li>
<li>
<strong>Flexibility</strong>: Can be applied to both numerical and
categorical data.</li>
</ul>
<p><strong>Limitations:</strong></p>
<ul>
<li>
<strong>Computational Complexity</strong>: May be intensive for
large datasets with many classes.</li>
<li>
<strong>Parameter Sensitivity</strong>: Requires careful selection
of the significance level
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>α</mi><annotation encoding="application/x-tex">\alpha</annotation></semantics></math>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The ChiMerge algorithm provides an effective and statistically
rigorous method for data discretization, optimizing binning by merging
values that are statistically similar concerning the target variable
distribution. Its ability to preserve essential class information makes
it a valuable tool in data preprocessing for machine learning tasks.</p>
<p>Future work may focus on improving the computational efficiency of
the algorithm and exploring adaptive methods for determining the
significance level.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
