# Set C++ standard
CXX_STD = CXX17

# Add current directory to include path
PKG_CPPFLAGS = -I.

# Optimization flags for smaller binary size (CRAN NOTE fix)
# -Os: Optimize for size
# -fvisibility=hidden: Hide symbols by default (reduces binary size)
# -ffunction-sections -fdata-sections: Place each function/data in separate section
PKG_CXXFLAGS = $(SHLIB_OPENMP_CXXFLAGS) $(ARCH_SPECIFIC_CXXFLAGS) \
               -Os -fvisibility=hidden \
               -ffunction-sections -fdata-sections

# Linker flags to remove unused sections
PKG_LIBS = $(SHLIB_OPENMP_CXXFLAGS) $(ARCH_SPECIFIC_LIBS) \
           -Wl,--gc-sections