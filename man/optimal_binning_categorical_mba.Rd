% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{optimal_binning_categorical_mba}
\alias{optimal_binning_categorical_mba}
\title{Optimal Binning for Categorical Variables using Monotonic Binning Algorithm (MBA)}
\usage{
optimal_binning_categorical_mba(
  target,
  feature,
  min_bins = 3L,
  max_bins = 5L,
  bin_cutoff = 0.05,
  max_n_prebins = 20L
)
}
\arguments{
\item{target}{An integer vector of binary target values (0 or 1).}

\item{feature}{A character vector of categorical feature values.}

\item{min_bins}{Minimum number of bins (default: 3).}

\item{max_bins}{Maximum number of bins (default: 5).}

\item{bin_cutoff}{Minimum frequency for a category to be considered as a separate bin (default: 0.05).}

\item{max_n_prebins}{Maximum number of pre-bins before merging (default: 20).}
}
\value{
A list containing four elements:
\itemize{
\item woefeature: A numeric vector of WOE values for each input feature value
\item woebin: A data frame containing bin information, including bin labels, WOE, IV, and counts
\item total_iv: The total Information Value of the binning
\item is_monotonic: A logical value indicating whether the final binning achieves monotonicity
}
}
\description{
This function performs optimal binning for categorical variables using a Monotonic Binning Algorithm (MBA) approach,
which combines Weight of Evidence (WOE) and Information Value (IV) methods with monotonicity constraints.
}
\details{
The algorithm performs the following steps:
\enumerate{
\item Input validation and preprocessing
\item Initial pre-binning based on frequency
\item Enforcing minimum bin size (bin_cutoff)
\item Calculating initial Weight of Evidence (WOE) and Information Value (IV)
\item Enforcing monotonicity of WOE across bins
\item Optimizing the number of bins through iterative merging
\item Assigning final WOE values to each category
}

The Weight of Evidence (WOE) is calculated as:
\deqn{WOE = \ln\left(\frac{\text{Proportion of Events}}{\text{Proportion of Non-Events}}\right)}

The Information Value (IV) for each bin is calculated as:
\deqn{IV = (\text{Proportion of Events} - \text{Proportion of Non-Events}) \times WOE}

The total IV is the sum of IVs across all bins.
}
\examples{
\dontrun{
# Create sample data
set.seed(123)
target <- sample(0:1, 1000, replace = TRUE)
feature <- sample(LETTERS[1:5], 1000, replace = TRUE)

# Run optimal binning
result <- optimal_binning_categorical_mba(target, feature)

# View results
print(result$woebin)
print(paste("Total IV:", result$total_iv))
print(paste("Is monotonic:", result$is_monotonic))
hist(result$woefeature)
}
}
\references{
\itemize{
\item Belaid, A., & Ghorbel, H. (2018). An Optimal Binning Technique for Credit Scoring. In Advances in Time Series and Forecasting (pp. 217-228). Springer, Cham.
\item Mironchyk, P., & Tchistiakov, V. (2017). Monotone optimal binning algorithm for credit risk modeling. arXiv preprint arXiv:1711.05095.
}
}
