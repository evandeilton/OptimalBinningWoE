% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{optimal_binning_categorical_mba}
\alias{optimal_binning_categorical_mba}
\title{Optimal Binning for Categorical Variables using Monotonic Binning Algorithm (MBA)}
\usage{
optimal_binning_categorical_mba(
  target,
  feature,
  min_bins = 3L,
  max_bins = 5L,
  bin_cutoff = 0.05,
  max_n_prebins = 20L,
  bin_separator = "\%;\%",
  convergence_threshold = 1e-06,
  max_iterations = 1000L
)
}
\arguments{
\item{target}{An integer vector of binary target values (0 or 1).}

\item{feature}{A character vector of categorical feature values.}

\item{min_bins}{Minimum number of bins (default: 3).}

\item{max_bins}{Maximum number of bins (default: 5).}

\item{bin_cutoff}{Minimum frequency for a category to be considered as a separate bin (default: 0.05).}

\item{max_n_prebins}{Maximum number of pre-bins before merging (default: 20).}

\item{bin_separator}{String used to separate category names when merging bins (default: "\%;\%").}

\item{convergence_threshold}{Threshold for convergence in optimization (default: 1e-6).}

\item{max_iterations}{Maximum number of iterations for optimization (default: 1000).}
}
\value{
A list containing:
\itemize{
\item bins: A character vector of bin labels
\item woe: A numeric vector of Weight of Evidence values for each bin
\item iv: A numeric vector of Information Value for each bin
\item count: An integer vector of total counts for each bin
\item count_pos: An integer vector of positive target counts for each bin
\item count_neg: An integer vector of negative target counts for each bin
\item converged: A logical value indicating whether the algorithm converged
\item iterations: An integer indicating the number of iterations run
}
}
\description{
This function performs optimal binning for categorical variables using a Monotonic Binning Algorithm (MBA) approach,
which combines Weight of Evidence (WOE) and Information Value (IV) methods with monotonicity constraints.
}
\details{
The algorithm performs the following steps:
\enumerate{
\item Input validation and preprocessing
\item Initial pre-binning based on frequency
\item Enforcing minimum bin size (bin_cutoff)
\item Calculating initial Weight of Evidence (WOE) and Information Value (IV)
\item Enforcing monotonicity of WOE across bins
\item Optimizing the number of bins through iterative merging
}

The Weight of Evidence (WOE) is calculated as:
\deqn{WOE = \ln\left(\frac{\text{Proportion of Events}}{\text{Proportion of Non-Events}}\right)}

The Information Value (IV) for each bin is calculated as:
\deqn{IV = (\text{Proportion of Events} - \text{Proportion of Non-Events}) \times WOE}
}
\examples{
\dontrun{
# Create sample data
set.seed(123)
target <- sample(0:1, 1000, replace = TRUE)
feature <- sample(LETTERS[1:5], 1000, replace = TRUE)

# Run optimal binning
result <- optimal_binning_categorical_mba(feature, target)

# View results
print(result)
}
}
