% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/oblr.R
\name{step.oblr}
\alias{step.oblr}
\title{Stepwise Model Selection for oblr Objects}
\usage{
\method{step}{oblr}(
  object,
  scope = NULL,
  scale = 0,
  direction = c("both", "backward", "forward"),
  trace = 1,
  keep = NULL,
  steps = 1000,
  k = 2,
  ...
)
}
\arguments{
\item{object}{An object of class \code{oblr}.}

\item{scope}{A two-sided formula defining the range of models examined in the stepwise search.
Can be a single formula or a list with \code{lower} and \code{upper} components.
If missing, the scope is determined based on the current model.}

\item{scale}{Unused. Set to \code{0} by default.}

\item{direction}{The direction of stepwise search. Must be one of \code{"both"}, \code{"backward"}, or \code{"forward"}.}

\item{trace}{An integer indicating the level of tracing information to be printed. \code{0} for no tracing,
\code{1} for minimal tracing, and higher values for more detailed tracing.}

\item{keep}{An optional function to be applied to each model as it is evaluated.
Useful for tracking model selection history. Set to \code{NULL} by default.}

\item{steps}{The maximum number of steps to perform. Default is \code{1000}.}

\item{k}{The penalty per parameter to be used in the AIC calculation. Default is \code{2}.}

\item{...}{Additional arguments passed to or from other methods.}
}
\value{
An \code{oblr} object representing the final selected model after stepwise selection.
Attributes include the selection path and AIC history if \code{keep} is utilized.
}
\description{
Performs stepwise model selection (backward, forward, both) for \code{oblr} model objects
based on the Akaike Information Criterion (AIC).
}
\details{
The \code{step.oblr} function iteratively adds or removes predictors from an \code{oblr} model
to optimize the AIC. It supports three directions of selection:
\itemize{
\item \strong{Backward}: Starts with the full model and removes predictors.
\item \strong{Forward}: Starts with a minimal model and adds predictors.
\item \strong{Both}: Combines both backward elimination and forward selection.
}

The function evaluates all possible single-step additions or removals of predictors
and selects the model that provides the best (lowest) AIC at each step. The process
continues until no further improvement in AIC is possible or the maximum number of
steps is reached.
}
\examples{
\dontrun{
# Assuming 'dt' is your data frame and 'oblr' is your model fitting function
library(Matrix)

# Fit the initial full model
m_full <- oblr(y ~ X1 + X2 + X3, data = dt)

# Perform backward stepwise selection
step_backward <- step(m_full, direction = "backward")

# Perform forward stepwise selection with a minimal model
m_min <- oblr(y ~ 1, data = dt)
step_forward <- step(m_min, scope = list(lower = ~1, upper = ~ X1 + X2 + X3), direction = "forward")

# Perform both directions stepwise selection
step_both <- step(m_full, direction = "both")
}

}
