% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/oblr.R
\name{residuals.oblr}
\alias{residuals.oblr}
\title{Residuals Method for oblr Objects}
\usage{
\method{residuals}{oblr}(
  object,
  type = c("deviance", "pearson", "raw", "standardized", "studentized_internal",
    "studentized_external", "leverage_adjusted"),
  ...
)
}
\arguments{
\item{object}{An object of class \code{oblr}.}

\item{type}{The type of residuals to calculate: \code{"deviance"}, \code{"pearson"}, \code{"raw"}, \code{"standardized"}, \code{"studentized_internal"}, \code{"studentized_external"}, \code{"leverage_adjusted"}.}

\item{...}{Additional arguments passed to or from other methods.}
}
\value{
A numeric vector of residuals.
}
\description{
Calculates residuals from the \code{oblr} model, such as deviance, Pearson, and others.
}
\details{
The following types of residuals can be calculated:
\itemize{
\item \strong{Raw Residuals}: The difference between observed and predicted values:
\deqn{e_i = y_i - \hat{y}_i}
\item \strong{Deviance Residuals}: Deviance residuals measure the contribution of each observation to the model deviance. For logistic regression, it is defined as:
\deqn{e_i^{\text{Deviance}} = \text{sign}(y_i - \hat{y}_i) \sqrt{2 \left[ y_i \log\left(\frac{y_i}{\hat{y}_i}\right) + (1 - y_i) \log\left(\frac{1 - y_i}{1 - \hat{y}_i}\right) \right]}}
where \eqn{\hat{y}_i} is the predicted probability, and \eqn{y_i} is the observed value.
\item \strong{Pearson Residuals}: These residuals scale the raw residuals by the estimated standard deviation:
\deqn{e_i^{\text{Pearson}} = \frac{y_i - \hat{y}_i}{\sqrt{\hat{y}_i (1 - \hat{y}_i)}}}
Pearson residuals are used to assess goodness of fit in generalized linear models.
\item \strong{Standardized Residuals}: These residuals standardize the raw residuals by dividing by the estimated standard deviation, adjusting for the fitted values:
\deqn{e_i^{\text{Standardized}} = \frac{e_i}{\sqrt{\hat{y}_i (1 - \hat{y}_i)}}}
\item \strong{Internally Studentized Residuals}: These residuals account for the leverage (influence) of each observation on its own fitted value:
\deqn{e_i^{\text{Internally Studentized}} = \frac{e_i}{\sqrt{\hat{y}_i (1 - \hat{y}_i)(1 - h_i)}}}
where \eqn{h_i} is the leverage for the \eqn{i}-th observation, calculated from the hat matrix.
\item \strong{Externally Studentized Residuals}: These residuals are similar to internally studentized residuals but exclude the \eqn{i}-th observation when estimating the variance:
\deqn{e_i^{\text{Externally Studentized}} = \frac{e_i}{\hat{\sigma}_{(i)} \sqrt{1 - h_i}}}
where \eqn{\hat{\sigma}_{(i)}} is the estimated standard error excluding the \eqn{i}-th observation.
\item \strong{Leverage-Adjusted Residuals}: These residuals adjust the raw residuals by the leverage value \eqn{h_i}:
\deqn{e_i^{\text{Leverage-Adjusted}} = \frac{e_i}{\sqrt{1 - h_i}}}
}
}
