% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{optimal_binning_numerical_lpdb}
\alias{optimal_binning_numerical_lpdb}
\title{Optimal Binning for Numerical Variables using Local Polynomial Density Binning (LPDB)}
\usage{
optimal_binning_numerical_lpdb(
  target,
  feature,
  min_bins = 3L,
  max_bins = 5L,
  bin_cutoff = 0.05,
  max_n_prebins = 20L
)
}
\arguments{
\item{target}{An integer vector of binary target values (0 or 1).}

\item{feature}{A numeric vector of feature values to be binned.}

\item{min_bins}{Minimum number of bins (default: 3).}

\item{max_bins}{Maximum number of bins (default: 5).}

\item{bin_cutoff}{Minimum frequency for a bin (default: 0.05).}

\item{max_n_prebins}{Maximum number of pre-bins (default: 20).}
}
\value{
A list containing two elements:
\item{woefeature}{A numeric vector of Weight of Evidence (WoE) transformed feature values.}
\item{woebin}{A data frame containing bin information, including bin labels, WoE, Information Value (IV), and counts.}
}
\description{
This function implements the Local Polynomial Density Binning (LPDB) algorithm for optimal binning of numerical variables.
}
\details{
The Local Polynomial Density Binning (LPDB) algorithm is an advanced method for optimal binning of numerical variables. It aims to create bins that maximize the predictive power of the feature while maintaining monotonicity in the Weight of Evidence (WoE) values and respecting user-defined constraints.

The algorithm works through several steps:
\enumerate{
\item Pre-binning: Initially divides the feature into a large number of bins (max_n_prebins) using quantiles.
\item Merging rare bins: Combines bins with frequencies below the bin_cutoff threshold to ensure statistical significance.
\item Enforcing monotonicity: Merges adjacent bins to ensure monotonic WoE values. The direction of monotonicity is determined by the correlation between bin means and WoE values.
\item Respecting bin constraints: Ensures the final number of bins is between min_bins and max_bins.
}

The algorithm uses the Weight of Evidence (WoE) and Information Value (IV) as key metrics:

WoE is calculated as:
\deqn{WoE = \ln\left(\frac{\text{\% of positive cases}}{\text{\% of negative cases}}\right)}

IV is calculated as:
\deqn{IV = (\text{\% of positive cases} - \text{\% of negative cases}) \times WoE}

The LPDB method incorporates local polynomial density estimation to better capture the underlying distribution of the data. This approach can be particularly effective when dealing with complex, non-linear relationships between the feature and the target variable.

The algorithm uses a correlation-based approach to determine the direction of monotonicity:

\deqn{\rho = \frac{\sum_{i=1}^{n} (x_i - \bar{x})(y_i - \bar{y})}{\sqrt{\sum_{i=1}^{n} (x_i - \bar{x})^2 \sum_{i=1}^{n} (y_i - \bar{y})^2}}}

where \eqn{x_i} are the bin means and \eqn{y_i} are the corresponding WoE values.

The binning process iteratively merges adjacent bins with the smallest WoE difference until monotonicity is achieved or the minimum number of bins is reached. This approach ensures that the resulting bins have monotonic WoE values, which is often desirable in credit scoring and risk modeling applications.

The LPDB method provides a balance between predictive power and model interpretability, allowing users to control the trade-off through parameters such as min_bins, max_bins, and bin_cutoff.
}
\examples{
\dontrun{
# Create sample data
set.seed(123)
target <- sample(0:1, 1000, replace = TRUE)
feature <- rnorm(1000)

# Run optimal binning
result <- optimal_binning_numerical_lpdb(target, feature)

# View results
head(result$woefeature)
print(result$woebin)
}

}
\references{
\itemize{
\item Belotti, P., & Bonami, P. (2013). A Two-Phase Local Search Method for Nonconvex Mixed-Integer Quadratic Programming. Journal of Global Optimization, 57(1), 121-141.
\item Thomas, L. C., Edelman, D. B., & Crook, J. N. (2002). Credit Scoring and Its Applications. SIAM Monographs on Mathematical Modeling and Computation.
}
}
\author{
Lopes, J. E.
}
