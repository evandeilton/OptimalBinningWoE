% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{optimal_binning_numerical_mba}
\alias{optimal_binning_numerical_mba}
\title{Optimal Binning for Numerical Variables using Modified Binning Algorithm (MBA)}
\usage{
optimal_binning_numerical_mba(
  target,
  feature,
  min_bins = 3L,
  max_bins = 5L,
  bin_cutoff = 0.05,
  max_n_prebins = 20L,
  n_threads = 1L
)
}
\arguments{
\item{target}{An integer vector of binary target values (0 or 1).}

\item{feature}{A numeric vector of feature values to be binned.}

\item{min_bins}{Minimum number of bins (default: 3).}

\item{max_bins}{Maximum number of bins (default: 5).}

\item{bin_cutoff}{Minimum frequency for a bin (default: 0.05).}

\item{max_n_prebins}{Maximum number of pre-bins (default: 20).}

\item{n_threads}{Number of threads to use for parallel processing (default: 1).}
}
\value{
A list containing two elements:
\item{woefeature}{A numeric vector of Weight of Evidence (WoE) transformed feature values.}
\item{woebin}{A data frame containing bin information, including bin labels, WoE, Information Value (IV), and counts.}
}
\description{
This function implements an optimal binning algorithm for numerical variables using a Modified Binning Algorithm (MBA) approach.
}
\details{
The Modified Binning Algorithm (MBA) is an advanced method for optimal binning of numerical variables. It aims to create bins that maximize the predictive power of the feature while maintaining monotonicity in the Weight of Evidence (WoE) values and respecting user-defined constraints.

The algorithm works through several steps:
\enumerate{
\item Pre-binning: Initially divides the feature into a large number of bins (max_n_prebins) using quantiles.
\item Merging rare bins: Combines bins with frequencies below the bin_cutoff threshold.
\item Monotonic binning: Merges adjacent bins to ensure monotonic WoE values.
\item Respecting bin constraints: Ensures the final number of bins is between min_bins and max_bins.
}

The algorithm uses the difference in Weight of Evidence (WoE) values as a criterion for merging bins, aiming to maintain monotonicity while preserving the predictive power of the feature.

Weight of Evidence (WoE) is calculated as:
\deqn{WoE = \ln\left(\frac{\text{\% of positive cases}}{\text{\% of negative cases}}\right)}

Information Value (IV) is calculated as:
\deqn{IV = (\text{\% of positive cases} - \text{\% of negative cases}) \times WoE}

The MBA method ensures that the resulting bins have monotonic WoE values, which is often desirable in credit scoring and risk modeling applications. It also provides flexibility in terms of the number of bins and the minimum bin frequency, allowing users to balance between predictive power and model interpretability.
}
\examples{
\dontrun{
# Create sample data
set.seed(123)
target <- sample(0:1, 1000, replace = TRUE)
feature <- rnorm(1000)

# Run optimal binning
result <- optimal_binning_numerical_mba(target, feature)

# View results
head(result$woefeature)
print(result$woebin)
}

}
\references{
\itemize{
\item Mironchyk, P., & Tchistiakov, V. (2017). Monotone optimal binning algorithm for credit scoring modeling. arXiv preprint arXiv:1711.07139.
\item Thomas, L. C., Edelman, D. B., & Crook, J. N. (2002). Credit scoring and its applications. SIAM.
}
}
\author{
Lopes, J.
}
