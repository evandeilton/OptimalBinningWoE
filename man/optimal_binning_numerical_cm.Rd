% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{optimal_binning_numerical_cm}
\alias{optimal_binning_numerical_cm}
\title{Binning Ótimo para Variáveis Numéricas usando ChiMerge (Versão Aprimorada)}
\usage{
optimal_binning_numerical_cm(
  target,
  feature,
  min_bins = 3L,
  max_bins = 5L,
  bin_cutoff = 0.05,
  max_n_prebins = 20L,
  convergence_threshold = 1e-06,
  max_iterations = 1000L
)
}
\arguments{
\item{target}{Vetor inteiro binário (0/1) do target.}

\item{feature}{Vetor numérico de valores da feature a ser binada.}

\item{min_bins}{Número mínimo de bins (default: 3).}

\item{max_bins}{Número máximo de bins (default: 5).}

\item{bin_cutoff}{Frequência mínima (proporção) de observações em cada bin (default: 0.05).}

\item{max_n_prebins}{Número máximo de pré-bins para discretização inicial (default: 20).}

\item{convergence_threshold}{Limite de convergência do algoritmo (default: 1e-6).}

\item{max_iterations}{Número máximo de iterações (default: 1000).}
}
\value{
Uma lista com:
\itemize{
\item bins: Vetor de nomes dos bins.
\item woe: Vetor de WoE por bin.
\item iv: Vetor de IV por bin.
\item count: Contagem total por bin.
\item count_pos: Contagem de casos positivos (target=1) por bin.
\item count_neg: Contagem de casos negativos (target=0) por bin.
\item cutpoints: Pontos de corte utilizados para criar os bins.
\item converged: Booleano indicando se o algoritmo convergiu.
\item iterations: Número de iterações executadas.
}
}
\description{
Implementa um algoritmo de binning ótimo para variáveis numéricas utilizando o método ChiMerge,
calculando WoE (Weight of Evidence) e IV (Information Value). Este código foi otimizado
em legibilidade, eficiência e robustez, mantendo compatibilidade de tipos e nomes.
}
\details{
O algoritmo segue estes passos:
\enumerate{
\item Discretização inicial em max_n_prebins via quantis.
\item Mesclagem iterativa de bins adjacentes com base na estatística Qui-quadrado.
\item Mesclagem de bins com contagens zero em alguma classe.
\item Mesclagem de bins raros (baseado em bin_cutoff).
\item Cálculo de WoE e IV para cada bin final.
\item Aplicação de monotonicidade (se possível).
}

Referências:
\itemize{
\item Kerber, R. (1992). ChiMerge: Discretization of Numeric Attributes. AAAI Press.
\item Zeng, G. (2014). A necessary condition for a good binning algorithm in credit scoring.
Applied Mathematical Sciences, 8(65), 3229-3242.
}
}
\examples{
\dontrun{
set.seed(123)
n <- 10000
feature <- rnorm(n)
target <- rbinom(n, 1, plogis(0.5 * feature))
result <- optimal_binning_numerical_cm(target, feature, min_bins = 3, max_bins = 5)
print(result)
}

}
