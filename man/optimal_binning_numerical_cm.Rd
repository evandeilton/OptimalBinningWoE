% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{optimal_binning_numerical_cm}
\alias{optimal_binning_numerical_cm}
\title{Optimal Binning for Numerical Variables using ChiMerge}
\usage{
optimal_binning_numerical_cm(
  target,
  feature,
  min_bins = 3L,
  max_bins = 5L,
  bin_cutoff = 0.05,
  max_n_prebins = 20L,
  convergence_threshold = 1e-06,
  max_iterations = 1000L
)
}
\arguments{
\item{target}{An integer vector of binary target values (0 or 1).}

\item{feature}{A numeric vector of feature values to be binned.}

\item{min_bins}{Minimum number of bins (default: 3).}

\item{max_bins}{Maximum number of bins (default: 5).}

\item{bin_cutoff}{Minimum frequency of observations in each bin (default: 0.05).}

\item{max_n_prebins}{Maximum number of pre-bins for initial discretization (default: 20).}

\item{convergence_threshold}{Threshold for convergence of the algorithm (default: 1e-6).}

\item{max_iterations}{Maximum number of iterations for the algorithm (default: 1000).}
}
\value{
A list containing the following elements:
\item{bins}{A character vector of bin names.}
\item{woe}{A numeric vector of Weight of Evidence values for each bin.}
\item{iv}{A numeric vector of Information Value for each bin.}
\item{count}{An integer vector of total counts for each bin.}
\item{count_pos}{An integer vector of positive target counts for each bin.}
\item{count_neg}{An integer vector of negative target counts for each bin.}
\item{cutpoints}{A numeric vector of cutpoints used to create the bins.}
\item{converged}{A logical value indicating whether the algorithm converged.}
\item{iterations}{An integer value indicating the number of iterations run.}
}
\description{
This function implements an optimal binning algorithm for numerical variables using the ChiMerge approach with Weight of Evidence (WoE) and Information Value (IV) criteria.
}
\details{
The optimal binning algorithm for numerical variables uses the ChiMerge approach with Weight of Evidence (WoE) and Information Value (IV) to create bins that maximize the predictive power of the feature while maintaining interpretability.

The algorithm follows these steps:
\enumerate{
\item Initial discretization into max_n_prebins
\item Iterative merging of adjacent bins based on chi-square statistic
\item Merging of bins with zero counts in either class
\item Merging of rare bins based on the bin_cutoff parameter
\item Calculation of WoE and IV for each final bin
}

The ChiMerge approach ensures that the resulting binning maximizes the separation between classes while maintaining the desired number of bins and respecting the minimum bin frequency constraint.
}
\examples{
\dontrun{
# Generate sample data
set.seed(123)
n <- 10000
feature <- rnorm(n)
target <- rbinom(n, 1, plogis(0.5 * feature))

# Apply optimal binning
result <- optimal_binning_numerical_cm(target, feature, min_bins = 3, max_bins = 5)

# View binning results
print(result)
}

}
\references{
\itemize{
\item Kerber, R. (1992). ChiMerge: Discretization of Numeric Attributes. In Proceedings of the tenth national conference on Artificial intelligence (pp. 123-128). AAAI Press.
\item Zeng, G. (2014). A necessary condition for a good binning algorithm in credit scoring. Applied Mathematical Sciences, 8(65), 3229-3242.
}
}
