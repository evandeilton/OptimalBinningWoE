% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{optimal_binning_numerical_jedi}
\alias{optimal_binning_numerical_jedi}
\title{Binning Ótimo Numérico JEDI (Discretização por Intervalos Guiada por Entropia Conjunta)}
\usage{
optimal_binning_numerical_jedi(
  target,
  feature,
  min_bins = 3L,
  max_bins = 5L,
  bin_cutoff = 0.05,
  max_n_prebins = 20L,
  convergence_threshold = 1e-06,
  max_iterations = 1000L
)
}
\arguments{
\item{target}{Vetor numérico (0,1) representando variável alvo binária}

\item{feature}{Vetor numérico do preditor contínuo}

\item{min_bins}{Número mínimo de bins de saída (padrão: 3, deve ser ≥2)}

\item{max_bins}{Número máximo de bins de saída (padrão: 5, deve ser ≥ min_bins)}

\item{bin_cutoff}{Frequência relativa mínima por bin (padrão: 0.05)}

\item{max_n_prebins}{Número máximo de pré-bins antes da otimização (padrão: 20)}

\item{convergence_threshold}{Limite de diferença de IV para convergência (padrão: 1e-6)}

\item{max_iterations}{Máximo de iterações de otimização (padrão: 1000)}
}
\value{
Uma lista contendo:
\itemize{
\item bin: Vetor de caracteres dos intervalos dos bins
\item woe: Vetor numérico dos valores de Weight of Evidence
\item iv: Vetor numérico dos valores de Information Value por bin
\item count: Vetor inteiro de contagens de observações por bin
\item count_pos: Vetor inteiro de contagens da classe positiva por bin
\item count_neg: Vetor inteiro de contagens da classe negativa por bin
\item cutpoints: Vetor numérico dos pontos de corte (excluindo ±Inf)
\item converged: Lógico indicando se o algoritmo convergiu
\item iterations: Contagem inteira de iterações de otimização realizadas
}
}
\description{
Um algoritmo avançado de binning numérico que otimiza o valor de informação (IV) mantendo
relações monotônicas de weight of evidence (WoE). O algoritmo emprega pré-binning baseado em
quantis com estratégias adaptativas de fusão, garantindo tanto estabilidade estatística quanto
preservação ótima de informação.
}
\details{
Framework Matemático:
Para uma variável numérica \eqn{X} e alvo binário \eqn{Y \in \{0,1\}}, o algoritmo cria \eqn{K} bins
definidos por \eqn{K-1} pontos de corte onde cada bin \eqn{B_i = (c_{i-1}, c_i]} maximiza o conteúdo
de informação satisfazendo as restrições:

\enumerate{
\item Monotonicidade WoE: \eqn{WoE_i \le WoE_{i+1}} (ou \eqn{\ge} para tendência decrescente)
\item Tamanho mínimo do bin: \eqn{contagem(B_i)/N \ge bin\_cutoff}
\item Limites de quantidade de bins: \eqn{min\_bins \le K \le max\_bins}
}

O Weight of Evidence para bin \eqn{i} é definido como:
\deqn{WoE_i = ln(\frac{Pos_i / \sum Pos_i}{Neg_i / \sum Neg_i})}

E o Information Value por bin como:
\deqn{IV_i = (Pos_i/\sum Pos_i - Neg_i/\sum Neg_i) \times WoE_i}

O IV total é dado por:
\deqn{IV_{total} = \sum_{i=1}^K IV_i}

Fases do Algoritmo:
\enumerate{
\item Pré-binning baseado em quantis com validação de frequência mínima
\item Tratamento de bins pequenos através de fusões minimizando perda de IV
\item Imposição de monotonicidade via fusão adaptativa de bins
\item Otimização da quantidade de bins através de divisões/fusões controladas
\item Monitoramento de convergência usando estabilidade do IV
}

Características Principais:
\itemize{
\item Cálculo de WoE protegido por epsilon para estabilidade numérica
\item Estratégia adaptativa de fusão minimizando perda de informação
\item Tratamento robusto de casos extremos e distribuições extremas
\item Busca binária eficiente para atribuição de bins
\item Detecção antecipada de convergência
}
}
\examples{
\dontrun{
# Uso básico com parâmetros padrão
resultado <- optimal_binning_numerical_jedi(
  target = c(1,0,1,0,1),
  feature = c(1.2,3.4,2.1,4.5,2.8)
)

# Configuração personalizada para binning mais granular
resultado <- optimal_binning_numerical_jedi(
  target = vetor_target,
  feature = vetor_feature,
  min_bins = 5,
  max_bins = 10,
  bin_cutoff = 0.03
)
}

}
\references{
\itemize{
\item Teoria da Informação e Aprendizado Estatístico (Cover & Thomas, 2006)
\item Binning Ótimo para Modelos de Scoring (Mironchyk & Tchistiakov, 2017)
\item Binning e Scoring Monotônico (Beltrami & Bassani, 2021)
}
}
